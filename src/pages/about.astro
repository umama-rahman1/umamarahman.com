---
import DefaultLayout from "../components/LayoutDefault.astro";
import { yearsInIndustry } from "../js/yearsInIndustry";
import DevLogo, { devIcons } from "../components/DevLogo.astro";
import TimelineItem from "../components/TimelineItem.astro";
---

<DefaultLayout
  documentTitle="About"
  documentDescription="I am Umama Rahman — a Software Developer based in Canada"
>
  <section class="container">
    <h1 class="main-heading text-swipe-animation" id="greeting">
      <!-- Value inserted via greeting.js -->
    </h1>
    <div class="intro">
      <p>
        I am Umama Rahman — a Software Developer based in Canada with over {yearsInIndustry} years of experience developing scalable data platforms, backend systems, and cloud-native applications.
      </p>
    </div>

    <div class="main-section">
      <img class="profile-photo" src="/images/me.jpg" alt="Umama Rahman" />
      <div class="main-section-text">
        <p>
          I specialize in distributed data processing, backend engineering, and cloud infrastructure, with 
          hands-on experience in Java, Scala, Python, and AWS. I have contributed to large-scale data and performance 
          engineering projects at Nasdaq Verafin, Qualcomm, and the Canada Pension Plan Investment Board (CPPIB).
        </p>
        <p>
          My work spans data lakehouse design, high-throughput ETL pipelines, and video processing frameworks, 
          leveraging technologies like Apache Spark, AWS EMR, Terraform, and FastAPI. I am passionate about building reliable, 
          high-performance systems that turn complex data into actionable insights.
        </p>
        <p>
          With my versatile skill set, I am well-prepared to contribute to
          software developer roles.
        </p>
      </div>
    </div>
  </section>

  <section class="container">
    <p></p>
    <h2 class="sub-heading">Experience</h2>

    <div class="timeline-items">
      <TimelineItem
        isCurrent={true}
        company="Nasdaq"
        workLocation="Canada"
        title="Senior Software Developer"
        startDate="Sep 2025"
        logo="/images/nasdaq.jpeg"
        responsibilities={[
          "Date Lakehouse Team"
        ]}
      />

      <TimelineItem
        company="Qualcomm"
        workLocation="Markham, ON"
        title="AI/DSP Software Engineering Intern"
        startDate="May 2024"
        endDate="Dec 2024"
        logo="/images/qualcomm.png"
        responsibilities={[
          "Video Processing Team"
        ]}
      />
      <TimelineItem
        company="Canadian Pension Plan Investment Board"
        workLocation="Toronto, ON"
        title="Data Engineering Intern"
        startDate="Jan 2024"
        endDate="Apr 2024"
        logo="/images/cppib.jpeg"
        responsibilities={[
          "Data Platforms Team"      
        ]}
      />

      <TimelineItem
        company="Canadian Pension Plan Investment Board"
        workLocation="Toronto, ON"
        title="Software Engineering Intern"
        startDate="May 2023"
        endDate="Aug 2023"
        logo="/images/cppib.jpeg"
        responsibilities={[
          "Capital Markets and Factor Investing Team"
        ]}
      />

      <TimelineItem
        company="Canadian Pension Plan Investment Board"
        workLocation="Toronto, ON"
        title="Software Engineering Intern"
        startDate="Sep 2022"
        endDate="Dec 2022"
        logo="/images/cppib.jpeg"
        responsibilities={[
          "Public Market Technologies, Active Equities Team ",
        ]}
      />

      <TimelineItem
        company="Achievers LLC"
        workLocation="Toronto, ON"
        title="Software Developer Co-op"
        startDate="Jan 2022"
        endDate="Apr 2022"
        logo="/images/achievers.webp"
        responsibilities={[
          "Reporting & Analytics Team",
         ]}
      />

      <TimelineItem
        company="Functional & Anatomical Imaging & Shape Analysis Lab"
        workLocation="St. John's, NL"
        title="Full-Stack Software Developer (Part-time)"
        startDate="Jan 2022"
        endDate="Aug 2022"
        logo="/images/faisal.jpeg"
        responsibilities={[
          "Data Management & Analysis Team",
        ]}
      />
    </div>
  </section>
</DefaultLayout>

<style lang="scss">
  .main-section {
    display: flex;
    gap: 2rem;
    margin-top: 1rem;
    align-items: center;
  }

  .profile-photo {
    width: 200px;
  }

  /* Marquee styles */
  .marquee {
    --gap: 1.5rem;
    position: relative;
    display: flex;
    overflow: hidden;
    user-select: none;
    gap: var(--gap);
    margin: 3.5rem 0;
    &:hover {
      .marquee-content {
        animation-play-state: paused;
      }
    }
  }

  .marquee-content {
    flex-shrink: 0;
    display: flex;
    justify-content: space-around;
    gap: var(--gap);
    min-width: 100%;
    animation: scroll 30s linear infinite reverse;
  }

  @keyframes scroll {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(calc(-100% - var(--gap)));
    }
  }

  /* Pause animation when reduced-motion is set */
  @media (prefers-reduced-motion: reduce) {
    .marquee-content {
      animation-play-state: paused !important;
    }
  }

  .sub-heading {
    margin-top: 0;
    margin-bottom: 25px;
  }

  .timeline-items {
    display: flex;
    flex-direction: column;
    row-gap: 0rem;
  }

  @media screen and (max-width: 980px) {
    .main-section {
      gap: 1rem;
      display: block;
      word-break: break-word;
    }

    .profile-photo {
      float: left;
      width: 152px;
      margin: 10px;
    }

    :global(.devicon) {
      width: 45px !important;
      height: 45px !important;
    }
  }
</style>

<script hoist>
  import { greeting } from "../js/greeting";
  const greetingContainer = document.getElementById("greeting");
  greetingContainer.innerText = greeting();
</script>
